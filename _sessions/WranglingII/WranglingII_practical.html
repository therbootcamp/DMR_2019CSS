<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Wrangling II</title>

<script src="WranglingII_practical_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="WranglingII_practical_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="WranglingII_practical_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="WranglingII_practical_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="WranglingII_practical_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="WranglingII_practical_files/navigation-1.1/tabsets.js"></script>
<link href="WranglingII_practical_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="WranglingII_practical_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="practical.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Wrangling II</h1>
<h4 class="author"><table style='table-layout:fixed;width:100%;border:0;padding:0;margin:0'>
<col width='10%'>
<col width='10%'>
<tr style="border:none">
<td style="display:block;width:100%;text-align:left;vertical-align:bottom;padding:0;margin:0;border:none" nowrap>
<font style='font-style:normal'>R for Data Science</font><br> <a href='https://therbootcamp.github.io/DMR_2019CSS/'> <i class='fas fa-clock' style='font-size:.9em;' ></i> </a> <a href='https://therbootcamp.github.io'> <i class='fas fa-home' style='font-size:.9em;'></i> </a> <a href='mailto:therbootcamp@gmail.com'> <i class='fas fa-envelope' style='font-size: .9em;'></i> </a> <a href='https://www.linkedin.com/company/basel-r-bootcamp/'> <i class='fab fa-linkedin' style='font-size: .9em;'></i> </a> <a href='https://therbootcamp.github.io'> <font style='font-style:normal'>Basel R Bootcamp</font> </a>
</td>
<td style="width:100%;vertical-align:bottom;text-align:right;padding:0;margin:0;border:none">
<img src='https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/by-sa.png' style='height:15px;width:80px'/>
</td>
</tr>
</table></h4>

</div>


<p align="center">
<img width="100%" src="image/forsale.png" margin=0><br> <font style="font-size:10px">adapted from <a href="http://www.trueloveproperty.co.uk/houses-sale-ingham/">trueloveproperty.co.uk</a></font>
</p>
<div id="section" class="section level1 tabset">
<h1></h1>
<div id="overview" class="section level2">
<h2>Overview</h2>
<p>In diesem Practical wirst du das Transformieren, Gruppieren und Analysieren von Daten mit <code>dplyr</code> üben.</p>
<p>Am Ende des Practicals wirst du wissen wie man:</p>
<ol style="list-style-type: decimal">
<li>Daten transformiert</li>
<li>Daten gruppiert und deskriptive Statistiken berechnen kann</li>
</ol>
</div>
<div id="tasks" class="section level2">
<h2>Tasks</h2>
<div id="a---setup" class="section level3">
<h3>A - Setup</h3>
<ol style="list-style-type: decimal">
<li><p>Öffne dein <code>BaselRBootcamp</code> R project. Es sollte bereits die Ordner <code>1_Data</code> und <code>2_Code</code> enthalten. Stelle sicher, dass du alle Datensätze, welche im <code>Datensätze</code> Tab aufgelisted sind, in deinem <code>1_Data</code> Ordner hast.</p></li>
<li><p>Öffne ein neues R Skript. Schreibe deinen Namen, das Datum und “Wrangling II Practical” als Kommentare an den Anfang des Skripts.</p></li>
</ol>
<pre class="r"><code>## NAME
## DATUM
## Wrangling II Practical</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>Speichere es das neue Skript unter dem Namen <code>wrangling_II_practical.R</code> in den <code>2_Code</code> Ordner.</p></li>
<li><p>Lade das <code>tidyverse</code> Paket.</p></li>
</ol>
<pre class="r"><code># Pakete laden
library(tidyverse)     </code></pre>
<pre class="r"><code>library(tidyverse)</code></pre>
</div>
<div id="b---transformation-zwischen-long-und-wide-format" class="section level3">
<h3>B - Transformation zwischen <em>Long</em> und <em>Wide</em> Format</h3>
<ol start="5" style="list-style-type: decimal">
<li>In diesem Practical verwenden wir zunächst den <code>bevoelkerung.csv</code> Datensatz. Er enthält die Einwohnerzahlen verschiedener schweizer Städte von 1930 bis 2011. Im <code>Datensätze</code> Tab findest du eine Auflistung und eine kurze Beschreibung der im Datensatz enthaltenen Variablen. Lese den Datensatz mit der <code>read_csv()</code> Funktion in R ein und speichere ihn unter dem Namen <code>bev</code>.</li>
</ol>
<pre class="r"><code>bev &lt;- read_csv(file = &quot;1_Data/bevoelkerung.csv&quot;)</code></pre>
<ol start="6" style="list-style-type: decimal">
<li><p>Mache dich mit dem Datensatz vertraut in dem du die ersten paar Zeilen und die Vriablennamen anschaust.</p></li>
<li><p>Im Moment sind die Daten so angeordnet, dass jedes Jahr eine einzelne Spalte hat, also im <em>Wide</em> Format. Diese Anordnung ist praktisch zum Eingeben von Daten und um die Daten als Tabelle anzuschauen. Für viele Anwendungen, wie gewisse statistische Analysen oder Plotting, brauchen wir die Daten aber im <em>Long</em> format. Für diese Transformation verwenden wir <code>pivot_longer()</code>.</p></li>
</ol>
<p>Zur Rekapitulation, <code>pivot_longer()</code> in der einfachsten “Version” braucht drei Argumente: i) den Datensatz, ii) die Spaltennamen als Spezifikation, welche Spalten vom Wide ins Long Format transformiert werden sollen, und iii) den Spaltennamen der neuen Gruppierungsvariable.</p>
<p>Unter Verwendung nur dieser drei Argumente, Transformiere die <code>st_wbev_2011</code> und <code>st_wbev_2001</code> Variablen aus <code>bev</code> vom Wide ins Long Format und speichere es als neues Objekt ab.</p>
<pre class="r"><code># Transofmation vom Wide ins Long Format
bev_long &lt;- bev %&gt;%
  pivot_longer(c(&quot;XXX&quot;, &quot;XXX&quot;), names_to = &quot;jahr&quot;)</code></pre>
<pre class="r"><code># Transofmation vom Wide ins Long Format
bev_long &lt;- bev %&gt;%
  pivot_longer(c(&quot;st_wbev_2011&quot;, &quot;st_wbev_2001&quot;), names_to = &quot;jahr&quot;)</code></pre>
<ol start="8" style="list-style-type: decimal">
<li><p>Schaue dir das Resultat, also den neu erstellten Datensatz an. Versuche nachzuvollziehen was genau gemacht wurde, welche Variablen sich verändert haben und welche nicht. Frage nach, falls du etwas nicht nachvollziehen kannst.</p></li>
<li><p>Nun da wir die basics haben, wollen wir nicht nur die Jahre 2001 und 2011, sondern alle im Datensatz vorhandenen ins Long Format bringen. Schaue dir dazu nochmals die Namen der Variablen an.</p></li>
</ol>
<pre class="r"><code>names(bev)</code></pre>
<pre><code> [1] &quot;Stadtname&quot;          &quot;st_wbev_2011&quot;       &quot;st_wbev_2001&quot;      
 [4] &quot;proz_ver-2001–2011&quot; &quot;bevdichte&quot;          &quot;st_wbev_1930&quot;      
 [7] &quot;st_wbev_1970&quot;       &quot;st_wbev_1980&quot;       &quot;st_wbev_1990&quot;      
[10] &quot;st_wbev_2000&quot;      </code></pre>
<ol start="10" style="list-style-type: decimal">
<li>Wie du siehst, hat jede Jahr-Variable die gleiche Struktur, nämlich <code>st_wbev_XXXX</code>. Dieser Umstand ist hilfreich, da wir dadurch nicht jede Variable explizit auflisten müssen, sondern die <code>starts_with()</code> Funktion verwenden können. Schaue dir dazu die help page der Funktion an.</li>
</ol>
<pre class="r"><code>?starts_with</code></pre>
<pre><code>Help on topic &#39;starts_with&#39; was found in the following packages:

  Package               Library
  dplyr                 /Library/Frameworks/R.framework/Versions/3.6/Resources/library
  tidyselect            /Library/Frameworks/R.framework/Versions/3.6/Resources/library
  tidyr                 /Library/Frameworks/R.framework/Versions/3.6/Resources/library


Using the first match ...</code></pre>
<ol start="11" style="list-style-type: decimal">
<li>Benutze <code>pivot_longer()</code> und <code>starts_with()</code> um alle Jahr-Variablen zu transformieren.</li>
</ol>
<pre class="r"><code>bev_long &lt;- bev %&gt;%
  pivot_longer(starts_with(&quot;st_&quot;), names_to = &quot;jahr&quot;)</code></pre>
<ol start="12" style="list-style-type: decimal">
<li><p>Schaue dir das Resultat an.</p></li>
<li><p>Die Einwohnerzahl ist im neuen Datensatz in der Spalte <code>value</code> enthalten. Dieser Name wird per default gewählt, ist aber nicht informativ. Wir können einen eigenen Namen wählen, in dem wir in <code>pivot_longer()</code> zusätzlich das <code>values_to</code> Argument spezifizieren. Wiederhole den Code von Aufgabe 11, und ändere diesen so, dass die Spalte mit den Einwohnerzhlen neu <code>einwohner</code> statt <code>value</code> heisst.</p></li>
</ol>
<pre class="r"><code>bev_long &lt;- bev %&gt;%
  pivot_longer(starts_with(&quot;st_&quot;), names_to = &quot;jahr&quot;, values_to = &quot;einwohner&quot;)</code></pre>
<ol start="14" style="list-style-type: decimal">
<li>Schaue dir das Resultat an. Als letzten Schritt wollen wir noch die Werte der Variable <code>jahr</code> so anpassen, dass wir nur die Jahreszahl haben. Eine Möglichkeit wäre, das jetzige Resultat zu nehmen, und mit <code>mutate()</code> und <code>case_when()</code>, die wir im letzten Practical genauer angeschaut haben, die Variable abzuändern. <code>pivot_longer()</code> bietet mit dem <code>names_prefix</code> Argument eine Möglichkeit, alles in einem Schritt durchzuführen. Dazu spezifizieren wir einfach in Anführungszeichen, welcher Teil gelöscht werden soll. Füge zum Code der vorherigen Aufgabe das <code>names_prefix</code> Argument hinzu, sodass die <code>jahr</code> Variable nur noch die Jahreszahl enthält.</li>
</ol>
<pre class="r"><code>bev_long &lt;- bev %&gt;%
  pivot_longer(starts_with(&quot;st_&quot;), names_to = &quot;jahr&quot;, values_to = &quot;einwohner&quot;,
               names_prefix = &quot;st_wbev_&quot;)</code></pre>
<ol start="15" style="list-style-type: decimal">
<li>Nun können wir mit dem neu erstellten Datensatz arbeiten und, zum Beispiel, einen Plot erstellen. Plotting werden wir zu einem späteren Zeitpunkt behandeln, daher unten nur ein kleines Code Beispiels eines Plots.</li>
</ol>
<pre class="r"><code># generiere ein leeres Plot fenster mit den spezifizierten Variablen auf den Achsen
ggplot(bev_long, aes(as.numeric(jahr), log(einwohner, base = 10),
                     # gruppiere gemäss der Stadtname variable; nötig um separate 
                     # Linien pro Stadt zu erhalten
                     group = Stadtname)) +
  # füge die Datenpunkte hinzu
  geom_point(alpha = .6) +
  # verbinde die Datenpunkte pro Stadt
  geom_line(alpha = .3) +
  # sopezifiziere die Achsenbeschriftungen 
  labs(x = &quot;Jahr&quot;, y = expression(&quot;log&quot;[10]*&quot;(Einwohner)&quot;)) + 
  scale_x_continuous(breaks = c(1930, 1970, 1980, 1990, 2000, 2001, 2011)) +
  # spezifiziere Plot layout
  theme_classic() +
  theme(axis.text.x = element_text(angle=45, size = 12, hjust = 1),
        axis.text.y = element_text(size = 12),
        axis.title = element_text(size = 14))</code></pre>
<p><img src="WranglingII_practical_files/figure-html/unnamed-chunk-13-1.png" width="576" style="display: block; margin: auto;" /></p>
<ol start="16" style="list-style-type: decimal">
<li>Wie bereits geschildert, ist das Long Format für viele Analysen und Visualisierungen besser geeignet. Es gibt jedoch auch Situationen in denen das Wide Format praktischer ist, zum Beispiel, wenn wir die Verändererung der Einwohnerzahlen zwischen 1930 und 2011 berechnen wollen. Lass uns für diese Übung so tun, als ob wir die Daten nur im Long Format (<code>bev_long</code>) hätten und sie daher zuerst ins Wide Format umwandeln müssten. Dazu verwenden wir <code>pivot_wider()</code> und spezifizieren die Argumente <code>names_from</code>, <code>values_from</code> und <code>names_prefix</code>. Speichere das Ergebnis unter <code>bev_wide</code> ab und vergleiche <code>bev_wide</code> mit <code>bev</code> um sicherzustellen, dass die Transformation korrekt funktioniert hat.</li>
</ol>
<pre class="r"><code>bev_wide &lt;- bev_long %&gt;%
  pivot_wider(names_from = jahr, values_from = einwohner,
              names_prefix = &quot;st_wbev_&quot;)</code></pre>
</div>
<div id="b---wiederholung-wrangling-i" class="section level3">
<h3>B - Wiederholung Wrangling I</h3>
<ol style="list-style-type: decimal">
<li>Für den Rest des Practicals verwenden wir den <code>kc_house.csv</code> Datensatz. Er enthält Verkaufspreise von Häusern in King County, Washington. Aufgelistet sind Häuser, welche zwischen Mai 2014 und Mai 2015 verkauft wurden. Nebst den Verkaufspreisen enthält der Datensatz Spezifikationen der Häuser, z.B. die Anzahl Zimmer eines Hauses. Lese den Datensatz mit der <code>read_csv()</code> Funktion in R ein und speichere ihn unter dem Namen <code>kc_house</code>.</li>
</ol>
<pre class="r"><code>kc_house &lt;- read_csv(file = &quot;1_Data/kc_house.csv&quot;)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Exploriere den Datensatz um einen Eindruck über dessen Struktur zu erhalten.</li>
</ol>
<pre class="r"><code>kc_house</code></pre>
<pre><code># A tibble: 21,613 x 19
   id    date                 price bedrooms bathrooms sqft_living sqft_lot
   &lt;chr&gt; &lt;dttm&gt;               &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;
 1 7129… 2014-10-13 00:00:00 2.22e5        3      1           1180     5650
 2 6414… 2014-12-09 00:00:00 5.38e5        3      2.25        2570     7242
 3 5631… 2015-02-25 00:00:00 1.80e5        2      1            770    10000
 4 2487… 2014-12-09 00:00:00 6.04e5        4      3           1960     5000
 5 1954… 2015-02-18 00:00:00 5.10e5        3      2           1680     8080
 6 7237… 2014-05-12 00:00:00 1.23e6        4      4.5         5420   101930
 7 1321… 2014-06-27 00:00:00 2.58e5        3      2.25        1715     6819
 8 2008… 2015-01-15 00:00:00 2.92e5        3      1.5         1060     9711
 9 2414… 2015-04-15 00:00:00 2.30e5        3      1           1780     7470
10 3793… 2015-03-12 00:00:00 3.23e5        3      2.5         1890     6560
# … with 21,603 more rows, and 12 more variables: floors &lt;dbl&gt;,
#   waterfront &lt;dbl&gt;, view &lt;dbl&gt;, condition &lt;dbl&gt;, grade &lt;dbl&gt;,
#   sqft_above &lt;dbl&gt;, sqft_basement &lt;dbl&gt;, yr_built &lt;dbl&gt;,
#   yr_renovated &lt;dbl&gt;, zipcode &lt;dbl&gt;, lat &lt;dbl&gt;, long &lt;dbl&gt;</code></pre>
<pre class="r"><code>summary(kc_house)</code></pre>
<pre><code>      id                 date                         price        
 Length:21613       Min.   :2014-05-02 00:00:00   Min.   :  75000  
 Class :character   1st Qu.:2014-07-22 00:00:00   1st Qu.: 321950  
 Mode  :character   Median :2014-10-16 00:00:00   Median : 450000  
                    Mean   :2014-10-29 04:38:01   Mean   : 540088  
                    3rd Qu.:2015-02-17 00:00:00   3rd Qu.: 645000  
                    Max.   :2015-05-27 00:00:00   Max.   :7700000  
    bedrooms      bathrooms     sqft_living       sqft_lot      
 Min.   : 0.0   Min.   :0.00   Min.   :  290   Min.   :    520  
 1st Qu.: 3.0   1st Qu.:1.75   1st Qu.: 1427   1st Qu.:   5040  
 Median : 3.0   Median :2.25   Median : 1910   Median :   7618  
 Mean   : 3.4   Mean   :2.11   Mean   : 2080   Mean   :  15107  
 3rd Qu.: 4.0   3rd Qu.:2.50   3rd Qu.: 2550   3rd Qu.:  10688  
 Max.   :33.0   Max.   :8.00   Max.   :13540   Max.   :1651359  
     floors       waterfront         view        condition   
 Min.   :1.00   Min.   :0.000   Min.   :0.00   Min.   :1.00  
 1st Qu.:1.00   1st Qu.:0.000   1st Qu.:0.00   1st Qu.:3.00  
 Median :1.50   Median :0.000   Median :0.00   Median :3.00  
 Mean   :1.49   Mean   :0.008   Mean   :0.23   Mean   :3.41  
 3rd Qu.:2.00   3rd Qu.:0.000   3rd Qu.:0.00   3rd Qu.:4.00  
 Max.   :3.50   Max.   :1.000   Max.   :4.00   Max.   :5.00  
     grade         sqft_above   sqft_basement     yr_built   
 Min.   : 1.00   Min.   : 290   Min.   :   0   Min.   :1900  
 1st Qu.: 7.00   1st Qu.:1190   1st Qu.:   0   1st Qu.:1951  
 Median : 7.00   Median :1560   Median :   0   Median :1975  
 Mean   : 7.66   Mean   :1788   Mean   : 292   Mean   :1971  
 3rd Qu.: 8.00   3rd Qu.:2210   3rd Qu.: 560   3rd Qu.:1997  
 Max.   :13.00   Max.   :9410   Max.   :4820   Max.   :2015  
  yr_renovated     zipcode           lat            long     
 Min.   :   0   Min.   :98001   Min.   :47.2   Min.   :-122  
 1st Qu.:   0   1st Qu.:98033   1st Qu.:47.5   1st Qu.:-122  
 Median :   0   Median :98065   Median :47.6   Median :-122  
 Mean   :  84   Mean   :98078   Mean   :47.6   Mean   :-122  
 3rd Qu.:   0   3rd Qu.:98118   3rd Qu.:47.7   3rd Qu.:-122  
 Max.   :2015   Max.   :98199   Max.   :47.8   Max.   :-121  </code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Schaue dir mit der <code>names()</code> Funktion die Variablennamen an.</li>
</ol>
<pre class="r"><code>names(kc_house)</code></pre>
<pre><code> [1] &quot;id&quot;            &quot;date&quot;          &quot;price&quot;         &quot;bedrooms&quot;     
 [5] &quot;bathrooms&quot;     &quot;sqft_living&quot;   &quot;sqft_lot&quot;      &quot;floors&quot;       
 [9] &quot;waterfront&quot;    &quot;view&quot;          &quot;condition&quot;     &quot;grade&quot;        
[13] &quot;sqft_above&quot;    &quot;sqft_basement&quot; &quot;yr_built&quot;      &quot;yr_renovated&quot; 
[17] &quot;zipcode&quot;       &quot;lat&quot;           &quot;long&quot;         </code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Da es sich um einen US Datensatz handelt, sind die Flächenangaben in Quadratfuss angegeben. Wir als “rest of the world” sind es eher gewohnt in Quadratmeter zu denken. Kreiere dazu drei neue Variablen <code>living_sqm</code>, <code>above_sqm</code> und <code>basement_sqm</code>, welche die jeweilige Raumgrösse in Quadratmeter angeben (Tipp: ein Quadratfuss entspricht 0.093 Quadratmeter).</li>
</ol>
<pre class="r"><code>kc_house &lt;- kc_house %&gt;%
  mutate(living_sqm = sqft_living * 0.093,
         above_sqm = sqft_above * 0.093,
         basement_sqm  = sqft_basement * 0.093)</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Kreiere eine neue Spalte <code>total_sqm</code>, welche die Summer aus <code>living_sqm</code>, <code>above_sqm</code> und <code>basement_sqm</code> darstellt.</li>
</ol>
<pre class="r"><code>kc_house &lt;- kc_house %&gt;%
  mutate(total_sqm = living_sqm + above_sqm + basement_sqm)</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>Füge eine neue Variable <code>mansion</code> hinzu, welche den Wert “yes” annimmt, wenn <code>total_sqm</code> grösses als 750 ist und “no”, wenn <code>total_sqm</code> kleiner oder gleich 750 ist.</li>
</ol>
<pre class="r"><code>kc_house &lt;- kc_house %&gt;%
                mutate(mansion = case_when(
                              total_sqm &gt; 750 ~ &quot;yes&quot;,
                              total_sqm &lt;= 750~ &quot;no&quot;))</code></pre>
</div>
<div id="c---einfache-deskriptive-statistiken" class="section level3">
<h3>C - Einfache deskriptive Statistiken</h3>
<ol style="list-style-type: decimal">
<li>Unter Verwendung der base-R <code>data$col</code> Notation, berechne den Mittelwert über alle Hauspreise.</li>
</ol>
<pre class="r"><code>mean(kc_house$price)</code></pre>
<pre><code>[1] 540088</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Wiederhole die vorherige Aufgabe, diesmal unter Verwendung der <code>summarise()</code> Funktion. Worin besteht der Unterschied der Resultate dieser und der vorherigen Aufgabe?</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  summarise(
    price_mean = mean(price)
  )</code></pre>
<pre><code># A tibble: 1 x 1
  price_mean
       &lt;dbl&gt;
1    540088.</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Wie hoch ist der <em>Median</em>preis aller Häuser? Benutze dazu die <code>median()</code> Funktion. Worin besteht der Unterschied zwischen dem Mittelwert und dem Median?</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  summarise(
    price_median = median(price)
  )</code></pre>
<pre><code># A tibble: 1 x 1
  price_median
         &lt;dbl&gt;
1       450000</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Wie hoch ist der höchste Verkaufspreis? Tipp: das Maximum eines Vektors findest du mit der <code>max()</code> Funktion.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  summarise(
    price_max = max(price)
  )</code></pre>
<pre><code># A tibble: 1 x 1
  price_max
      &lt;dbl&gt;
1   7700000</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Sortiere mittels der <code>arrange()</code> und der <code>desc()</code> Funktion den Datensatz in absteigender Reihenfolge und printe das Resultat. Du kannst kontrollieren ob es Funktioniert hat, in dem du überprüfst ob der höchste Verkaufspreis, den du in der letzten Aufgabe herausgefunden hast, zuoberst erscheint.</li>
</ol>
<pre class="r"><code>kc_house &lt;- kc_house %&gt;%
  arrange(desc(price))

kc_house</code></pre>
<pre><code># A tibble: 21,613 x 24
   id    date                 price bedrooms bathrooms sqft_living sqft_lot
   &lt;chr&gt; &lt;dttm&gt;               &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;
 1 6762… 2014-10-13 00:00:00 7.70e6        6      8          12050    27600
 2 9808… 2014-06-11 00:00:00 7.06e6        5      4.5        10040    37325
 3 9208… 2014-09-19 00:00:00 6.88e6        6      7.75        9890    31374
 4 2470… 2014-08-04 00:00:00 5.57e6        5      5.75        9200    35069
 5 8907… 2015-04-13 00:00:00 5.35e6        5      5           8000    23985
 6 7558… 2015-04-13 00:00:00 5.30e6        6      6           7390    24829
 7 1247… 2014-10-20 00:00:00 5.11e6        5      5.25        8010    45517
 8 1924… 2014-06-17 00:00:00 4.67e6        5      6.75        9640    13068
 9 7738… 2014-08-15 00:00:00 4.50e6        5      5.5         6640    40014
10 3835… 2014-06-18 00:00:00 4.49e6        4      3           6430    27517
# … with 21,603 more rows, and 17 more variables: floors &lt;dbl&gt;,
#   waterfront &lt;dbl&gt;, view &lt;dbl&gt;, condition &lt;dbl&gt;, grade &lt;dbl&gt;,
#   sqft_above &lt;dbl&gt;, sqft_basement &lt;dbl&gt;, yr_built &lt;dbl&gt;,
#   yr_renovated &lt;dbl&gt;, zipcode &lt;dbl&gt;, lat &lt;dbl&gt;, long &lt;dbl&gt;,
#   living_sqm &lt;dbl&gt;, above_sqm &lt;dbl&gt;, basement_sqm &lt;dbl&gt;,
#   total_sqm &lt;dbl&gt;, mansion &lt;chr&gt;</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>Wie gross ist der Anteil an Häuser, welche für mehr als 1 Million verkauft wurden? Tipp: <code>TRUE</code> und <code>FALSE</code> werden von R als 1 respektive 0 interpretiert. Wenn wir daher den Mittelwert eines Vektors mit <code>TRUE</code> und <code>FALSE</code> berechnen, erhalten wir den Anteil (Beispiel: <code>mean(c(TRUE, TRUE, FALSE, TRUE))</code> ergibt 0.75).</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  summarise(mil_p = mean(price &gt; 1000000))</code></pre>
<pre><code># A tibble: 1 x 1
   mil_p
   &lt;dbl&gt;
1 0.0678</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>Berechne die mittlere Anzahl Stockwerke (<code>floors</code>) und Badezimmer (<code>bathrooms</code>) von Villen (<code>mansion</code>).</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  filter(mansion == &quot;Yes&quot;) %&gt;%
  summarise(
    floors_mean = mean(floors),
    bathrooms_mean = mean(bathrooms)
  )</code></pre>
<pre><code># A tibble: 1 x 2
  floors_mean bathrooms_mean
        &lt;dbl&gt;          &lt;dbl&gt;
1         NaN            NaN</code></pre>
</div>
<div id="d---einfache-gruppierte-deskriptive-statistiken" class="section level3">
<h3>D - Einfache gruppierte deskriptive Statistiken</h3>
<ol style="list-style-type: decimal">
<li>Erstelle eine Tabelle, welche dir anzeigt, wie viele Villen und wie viele normale Häuser (nicht-Villen) im Datensatz vorhanden sind. Benutze hierzu <code>group_by()</code> zur Gruppierung nach Villen (<code>mansion</code>) und <code>n()</code> zur Berechnung der jeweiligen Anzahl.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  group_by(mansion) %&gt;%
  summarise(N = n())</code></pre>
<pre><code># A tibble: 2 x 2
  mansion     N
  &lt;chr&gt;   &lt;int&gt;
1 no      20862
2 yes       751</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Wie hoch ist der mittlere Verkaufspreis von Villen und normalen Häusern (nicht-Villen)?</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  group_by(mansion) %&gt;%
  summarise(N = n(),
            price_mean = mean(price))</code></pre>
<pre><code># A tibble: 2 x 3
  mansion     N price_mean
  &lt;chr&gt;   &lt;int&gt;      &lt;dbl&gt;
1 no      20862    504024.
2 yes       751   1541915.</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Verwende <code>group_by()</code> und <code>summarise()</code> um die untenstehende Tabelle zu erhalten.</li>
</ol>
<table>
<thead>
<tr class="header">
<th align="left">mansion</th>
<th align="right">N</th>
<th align="right">price_min</th>
<th align="right">price_mean</th>
<th align="right">price_median</th>
<th align="right">price_max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">no</td>
<td align="right">20862</td>
<td align="right">75000</td>
<td align="right">504024</td>
<td align="right">441000</td>
<td align="right">3100000</td>
</tr>
<tr class="even">
<td align="left">yes</td>
<td align="right">751</td>
<td align="right">404000</td>
<td align="right">1541915</td>
<td align="right">1300000</td>
<td align="right">7700000</td>
</tr>
</tbody>
</table>
<ol start="4" style="list-style-type: decimal">
<li>Haben Häuser, welche später gebaut wurden eine grössere Wohnfläche? Gruppiere zur Beantwortung dieser Frage die Daten nach <code>yr_built</code> und berechne dann die mittlere Wohnfläche.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  group_by(yr_built) %&gt;%
  summarise(N = n(),
            living = mean(living_sqm))</code></pre>
<pre><code># A tibble: 116 x 3
   yr_built     N living
      &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt;
 1     1900    87   161.
 2     1901    29   164.
 3     1902    27   179.
 4     1903    46   140.
 5     1904    45   149.
 6     1905    74   183.
 7     1906    92   168.
 8     1907    65   177.
 9     1908    86   158.
10     1909    94   177.
# … with 106 more rows</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Diese Tabelle hat recht viele Zeilen und ist daher etwas unübersichtlich. Kreiere eine neue Variable <code>built_decade</code>, welche angibt, in welchem Jahrzehnt ein Haus gebaut wurde und erstelle dann die Tabelle der letzten Aufgabe Gruppiert nach dieser neuen Variable. Tipp: die <code>floor()</code> Funktion rundet eine Zahl auf die nächst kleinere ganze Zahl ab.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  mutate(built_decade = floor(yr_built / 10)) %&gt;%
  group_by(built_decade) %&gt;%
  summarise(N = n(),
            living = mean(living_sqm))</code></pre>
<pre><code># A tibble: 12 x 3
   built_decade     N living
          &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt;
 1          190   645   167.
 2          191   806   164.
 3          192  1192   163.
 4          193   530   170.
 5          194  1764   140.
 6          195  2452   163.
 7          196  2660   180.
 8          197  2285   199.
 9          198  2282   204.
10          199  2238   232.
11          200  3518   229.
12          201  1241   233.</code></pre>
</div>
<div id="e---mehrere-gruppen" class="section level3">
<h3>E - Mehrere Gruppen</h3>
<ol style="list-style-type: decimal">
<li>Dein Freund Theodorus interessiert sich für Häuser einer bestimmten Gegend, nämlich mit den Postleitzahlen (<code>zipcode</code>) 98001, 98109, 98117 und 98199. Stelle ihm einen neuen Datensatz <code>theodorus</code> zusammen, welcher nur Häiuser dieser Gegend enthält. Tipp: der <code>%in%</code> Operator testet ob Elemente des Vektors auf der rechten Seite im Vektor auf der linken Seite enthalten sind.</li>
</ol>
<pre class="r"><code>theodorus &lt;- kc_house %&gt;%
  filter(zipcode %in% c(98001, 98109, 98117, 98199))</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Berechne für Theodorus den mittleren, den Median-, den Minimum-, den Maximumpreis, sowie die Anzahl Häuser pro Gruppe, separat für die Postleitzahlen und ob es eine Villa ist.</li>
</ol>
<pre class="r"><code>theodorus %&gt;%
  group_by(zipcode) %&gt;%
  summarise(price_mean = mean(price),
            price_median = median(price),
            floors_min = min(floors),
            floors_max = max(floors),
            N = n())</code></pre>
<pre><code># A tibble: 4 x 6
  zipcode price_mean price_median floors_min floors_max     N
    &lt;dbl&gt;      &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt; &lt;int&gt;
1   98001    280805.       260000          1        2.5   362
2   98109    879624.       736000          1        3     109
3   98117    576795.       544000          1        3     553
4   98199    791821.       689800          1        3     317</code></pre>
</div>
<div id="x---challenges" class="section level3">
<h3>X - Challenges</h3>
<ol style="list-style-type: decimal">
<li>Welche Postleitzahl hat den höchsten Anteil Häuser, welche am Wasser gebaut sind (<code>waterfront</code>)? Printe nur diese Zeile des Datensatzes.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  group_by(zipcode) %&gt;%
  summarise(waterfront_p = mean(waterfront)) %&gt;%
  arrange(desc(waterfront_p)) %&gt;%
  slice(1)</code></pre>
<pre><code># A tibble: 1 x 2
  zipcode waterfront_p
    &lt;dbl&gt;        &lt;dbl&gt;
1   98070        0.203</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Welches Haus hat das schlechteste Preis-Wohnraumgrösse Verhältnis? Printe nur diese Zeile des Datensatzes.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  mutate(price_to_living = price / living_sqm) %&gt;%
  arrange(desc(price_to_living)) %&gt;%
  slice(1)</code></pre>
<pre><code># A tibble: 1 x 25
  id    date                 price bedrooms bathrooms sqft_living sqft_lot
  &lt;chr&gt; &lt;dttm&gt;               &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;
1 6021… 2015-04-07 00:00:00 874950        2         1        1080     4000
# … with 18 more variables: floors &lt;dbl&gt;, waterfront &lt;dbl&gt;, view &lt;dbl&gt;,
#   condition &lt;dbl&gt;, grade &lt;dbl&gt;, sqft_above &lt;dbl&gt;, sqft_basement &lt;dbl&gt;,
#   yr_built &lt;dbl&gt;, yr_renovated &lt;dbl&gt;, zipcode &lt;dbl&gt;, lat &lt;dbl&gt;,
#   long &lt;dbl&gt;, living_sqm &lt;dbl&gt;, above_sqm &lt;dbl&gt;, basement_sqm &lt;dbl&gt;,
#   total_sqm &lt;dbl&gt;, mansion &lt;chr&gt;, price_to_living &lt;dbl&gt;</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Welche 10 Postleitzahlen haben im Schnitt die höchsten Hauspreise? Printe nur diese 10 Zeilen.</li>
</ol>
<pre class="r"><code>kc_house %&gt;%
  group_by(zipcode) %&gt;%
  summarise(price_mean = mean(price)) %&gt;%
  arrange(desc(price_mean)) %&gt;%
  slice(1:10)</code></pre>
<pre><code># A tibble: 10 x 2
   zipcode price_mean
     &lt;dbl&gt;      &lt;dbl&gt;
 1   98039   2160607.
 2   98004   1355927.
 3   98040   1194230.
 4   98112   1095499.
 5   98102    901258.
 6   98109    879624.
 7   98105    862825.
 8   98006    859685.
 9   98119    849448.
10   98005    810165.</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Kreiere den folgenden Datensatz <em>genau</em> wie er unten steht.</li>
</ol>
<table>
<thead>
<tr class="header">
<th align="right">yr_built</th>
<th align="right">N</th>
<th align="right">price_mean</th>
<th align="right">price_max</th>
<th align="right">living_sqm_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1990</td>
<td align="right">320</td>
<td align="right">563966</td>
<td align="right">3640900</td>
<td align="right">234</td>
</tr>
<tr class="even">
<td align="right">1991</td>
<td align="right">224</td>
<td align="right">630441</td>
<td align="right">5300000</td>
<td align="right">244</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="right">198</td>
<td align="right">548169</td>
<td align="right">2480000</td>
<td align="right">223</td>
</tr>
<tr class="even">
<td align="right">1993</td>
<td align="right">202</td>
<td align="right">556612</td>
<td align="right">3120000</td>
<td align="right">226</td>
</tr>
<tr class="odd">
<td align="right">1994</td>
<td align="right">249</td>
<td align="right">486834</td>
<td align="right">2880500</td>
<td align="right">209</td>
</tr>
<tr class="even">
<td align="right">1995</td>
<td align="right">169</td>
<td align="right">577771</td>
<td align="right">3200000</td>
<td align="right">224</td>
</tr>
<tr class="odd">
<td align="right">1996</td>
<td align="right">195</td>
<td align="right">639534</td>
<td align="right">3100000</td>
<td align="right">240</td>
</tr>
<tr class="even">
<td align="right">1997</td>
<td align="right">177</td>
<td align="right">606058</td>
<td align="right">3800000</td>
<td align="right">234</td>
</tr>
<tr class="odd">
<td align="right">1998</td>
<td align="right">239</td>
<td align="right">594159</td>
<td align="right">1960000</td>
<td align="right">241</td>
</tr>
</tbody>
</table>
<pre class="r"><code>kc_house %&gt;%
  filter(yr_built &gt;= 1990 &amp; yr_built &lt; 1999) %&gt;%
  group_by(yr_built) %&gt;%
  summarise(N = n(),
            price_mean = mean(price),
            price_max = max(price),
            living_sqm_mean = mean(living_sqm)) %&gt;%
  knitr::kable(digits = 0)</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">yr_built</th>
<th align="right">N</th>
<th align="right">price_mean</th>
<th align="right">price_max</th>
<th align="right">living_sqm_mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1990</td>
<td align="right">320</td>
<td align="right">563966</td>
<td align="right">3640900</td>
<td align="right">234</td>
</tr>
<tr class="even">
<td align="right">1991</td>
<td align="right">224</td>
<td align="right">630441</td>
<td align="right">5300000</td>
<td align="right">244</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="right">198</td>
<td align="right">548169</td>
<td align="right">2480000</td>
<td align="right">223</td>
</tr>
<tr class="even">
<td align="right">1993</td>
<td align="right">202</td>
<td align="right">556612</td>
<td align="right">3120000</td>
<td align="right">226</td>
</tr>
<tr class="odd">
<td align="right">1994</td>
<td align="right">249</td>
<td align="right">486834</td>
<td align="right">2880500</td>
<td align="right">209</td>
</tr>
<tr class="even">
<td align="right">1995</td>
<td align="right">169</td>
<td align="right">577771</td>
<td align="right">3200000</td>
<td align="right">224</td>
</tr>
<tr class="odd">
<td align="right">1996</td>
<td align="right">195</td>
<td align="right">639534</td>
<td align="right">3100000</td>
<td align="right">240</td>
</tr>
<tr class="even">
<td align="right">1997</td>
<td align="right">177</td>
<td align="right">606058</td>
<td align="right">3800000</td>
<td align="right">234</td>
</tr>
<tr class="odd">
<td align="right">1998</td>
<td align="right">239</td>
<td align="right">594159</td>
<td align="right">1960000</td>
<td align="right">241</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="beispiele" class="section level2">
<h2>Beispiele</h2>
<pre class="r"><code># Wrangling II mit dplyr and tidyr ---------------------------

library(tidyverse)    # Lade tidyverse für dplyr

# Lese den basel Datensatz ein
basel &lt;- read_csv(&quot;1_Data/basel.txt&quot;)

# Keine Gruppierungsvariable
bas &lt;- basel %&gt;%
  summarise(
    alter_m = mean(alter, na.rm = TRUE),
    einkommen_median = median(einkommen, na.rm = TRUE),
    N = n()
  )

bas

# Eine Gruppierungsvariable
bas_ges &lt;- basel %&gt;%
  group_by(geschlecht) %&gt;%
  summarise(
    alter_m = mean(alter, na.rm = TRUE),
    einkommen_median = median(einkommen, na.rm = TRUE),
    N = n()
  )

bas_ges

# Zwei Gruppierungsvariablen
bas_ges_bil &lt;- basel %&gt;%
  group_by(geschlecht, bildung) %&gt;%
  summarise(
    alter_m = mean(alter, na.rm = TRUE),
    einkommen_median = median(einkommen, na.rm = TRUE),
    N = n()
  )

bas_ges_bil

# Gruppiere nach Geschlecht und Bildung und berechne den Mittelwert aller 
# Variablen des Typs numeric
basel %&gt;%
  group_by(geschlecht, bildung) %&gt;%
  summarise_if(is.numeric, mean, na.rm = TRUE)</code></pre>
</div>
<div id="datensatze" class="section level2">
<h2>Datensätze</h2>
<table>
<colgroup>
<col width="8%" />
<col width="10%" />
<col width="11%" />
<col width="70%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">File</th>
<th align="left">Rows</th>
<th align="left">Columns</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/BaselRBootcamp_2018July/master/_sessions/_data/baselrbootcamp_data/kc_house.csv">kc_house.csv</a></td>
<td align="left">21613</td>
<td align="left">19</td>
<td align="left">Verkaufspreise von Häusern in King County zwischen Mai 2014 und Mai 2015.</td>
</tr>
<tr class="even">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/BaselRBootcamp_2018July/master/_sessions/_data/baselrbootcamp_data/kc_house.csv">bevoelkerung.csv</a></td>
<td align="left">161</td>
<td align="left">10</td>
<td align="left">Einwohnerzahlen schweizer Städte von 1930 bis 2011.</td>
</tr>
</tbody>
</table>
<div id="kc_house.csv" class="section level4">
<h4>kc_house.csv</h4>
<p><em>Erste 5 Zeilen und 5 Spalten von kc_house.csv</em></p>
<table>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">date</th>
<th align="right">price</th>
<th align="right">bedrooms</th>
<th align="right">bathrooms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">6762700020</td>
<td align="left">2014-10-13</td>
<td align="right">7700000</td>
<td align="right">6</td>
<td align="right">8.00</td>
</tr>
<tr class="even">
<td align="left">9808700762</td>
<td align="left">2014-06-11</td>
<td align="right">7062500</td>
<td align="right">5</td>
<td align="right">4.50</td>
</tr>
<tr class="odd">
<td align="left">9208900037</td>
<td align="left">2014-09-19</td>
<td align="right">6885000</td>
<td align="right">6</td>
<td align="right">7.75</td>
</tr>
<tr class="even">
<td align="left">2470100110</td>
<td align="left">2014-08-04</td>
<td align="right">5570000</td>
<td align="right">5</td>
<td align="right">5.75</td>
</tr>
<tr class="odd">
<td align="left">8907500070</td>
<td align="left">2015-04-13</td>
<td align="right">5350000</td>
<td align="right">5</td>
<td align="right">5.00</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id</td>
<td align="left">Identifizierungsvariable</td>
</tr>
<tr class="even">
<td align="left">date</td>
<td align="left">Datum</td>
</tr>
<tr class="odd">
<td align="left">price</td>
<td align="left">Preis in $</td>
</tr>
<tr class="even">
<td align="left">bedrooms</td>
<td align="left">Anzahl Schlafzimmer</td>
</tr>
<tr class="odd">
<td align="left">bathrooms</td>
<td align="left">Anzahl Badezimmer</td>
</tr>
<tr class="even">
<td align="left">sqft_living</td>
<td align="left">Wohnraumfläche in Quadratfuss</td>
</tr>
<tr class="odd">
<td align="left">sqft_lot</td>
<td align="left">Parzellengrösse in Quadratfuss</td>
</tr>
<tr class="even">
<td align="left">floors</td>
<td align="left">Anzahl Stöcke</td>
</tr>
<tr class="odd">
<td align="left">waterfront</td>
<td align="left">Ist das Haus am Wasser gebaut (1) oder nicht (0)</td>
</tr>
<tr class="even">
<td align="left">view</td>
<td align="left">Rating der Aussicht</td>
</tr>
<tr class="odd">
<td align="left">condition</td>
<td align="left">Rating des Zustands</td>
</tr>
<tr class="even">
<td align="left">grade</td>
<td align="left">Gesamtrating</td>
</tr>
<tr class="odd">
<td align="left">sqft_above</td>
<td align="left">Dachstockfläche in Quadratfuss</td>
</tr>
<tr class="even">
<td align="left">sqft_basement</td>
<td align="left">Kellerfläche in Quadratfuss</td>
</tr>
<tr class="odd">
<td align="left">yr_built</td>
<td align="left">Baujahr</td>
</tr>
<tr class="even">
<td align="left">yr_renovated</td>
<td align="left">Jahr letzte Renovation</td>
</tr>
<tr class="odd">
<td align="left">zipcode</td>
<td align="left">Postleitzahl</td>
</tr>
<tr class="even">
<td align="left">lat</td>
<td align="left">Lattitude</td>
</tr>
<tr class="odd">
<td align="left">long</td>
<td align="left">Longitude</td>
</tr>
</tbody>
</table>
</div>
<div id="bevoelkerung.csv" class="section level4">
<h4>bevoelkerung.csv</h4>
<p><em>Erste 5 Zeilen und 5 Spalten von bevoelkerung.csv</em></p>
<table>
<thead>
<tr class="header">
<th align="left">Stadtname</th>
<th align="right">st_wbev_2011</th>
<th align="right">st_wbev_2001</th>
<th align="right">proz_ver-2001–2011</th>
<th align="right">bevdichte</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Basel</td>
<td align="right">164516</td>
<td align="right">164665</td>
<td align="right">-0.1</td>
<td align="right">69</td>
</tr>
<tr class="even">
<td align="left">Bern</td>
<td align="right">125681</td>
<td align="right">122211</td>
<td align="right">2.8</td>
<td align="right">24</td>
</tr>
<tr class="odd">
<td align="left">Genève</td>
<td align="right">188234</td>
<td align="right">175697</td>
<td align="right">7.1</td>
<td align="right">119</td>
</tr>
<tr class="even">
<td align="left">Lausanne</td>
<td align="right">129383</td>
<td align="right">115272</td>
<td align="right">12.2</td>
<td align="right">31</td>
</tr>
<tr class="odd">
<td align="left">Winterthur</td>
<td align="right">103075</td>
<td align="right">89484</td>
<td align="right">15.2</td>
<td align="right">15</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col width="23%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Stadtname</td>
<td align="left">Name der Stadt</td>
</tr>
<tr class="even">
<td align="left">st_wbev_2011</td>
<td align="left">Wohnbevölkerung im Jahr 2011</td>
</tr>
<tr class="odd">
<td align="left">st_wbev_2001</td>
<td align="left">Wohnbevölkerung im Jahr 2001</td>
</tr>
<tr class="even">
<td align="left">proz_ver-2001–2011</td>
<td align="left">Veränderung der Einwohnerzahl in Prozent zwischen 2001 und 2011</td>
</tr>
<tr class="odd">
<td align="left">bevdichte</td>
<td align="left">Bevölkerungsdichte</td>
</tr>
<tr class="even">
<td align="left">st_wbev_1930</td>
<td align="left">Wohnbevölkerung im Jahr 1930</td>
</tr>
<tr class="odd">
<td align="left">st_wbev_1970</td>
<td align="left">Wohnbevölkerung im Jahr 1970</td>
</tr>
<tr class="even">
<td align="left">st_wbev_1980</td>
<td align="left">Wohnbevölkerung im Jahr 1980</td>
</tr>
<tr class="odd">
<td align="left">st_wbev_1990</td>
<td align="left">Wohnbevölkerung im Jahr 1990</td>
</tr>
<tr class="even">
<td align="left">st_wbev_2000</td>
<td align="left">Wohnbevölkerung im Jahr 2000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="funktionen" class="section level2">
<h2>Funktionen</h2>
<div id="pakete" class="section level3">
<h3>Pakete</h3>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Paket</th>
<th align="left">Installation</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>tidyverse</code></td>
<td align="left"><code>install.packages(&quot;tidyverse&quot;)</code></td>
<td align="left">Ein Metapaket für Data Science, einschliesslich <code>dplyr</code>, <code>ggplot2</code> und weitere Pakete</td>
</tr>
</tbody>
</table>
</div>
<div id="functions" class="section level3">
<h3>Functions</h3>
<p><em>Wrangling</em></p>
<table>
<colgroup>
<col width="7%" />
<col width="12%" />
<col width="80%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Funktion</th>
<th align="left">Paket</th>
<th align="left">Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>rename()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Umbenennen von Spalten</td>
</tr>
<tr class="even">
<td align="left"><code>select()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Auswahl von Spalten basierend auf Name oder Index</td>
</tr>
<tr class="odd">
<td align="left"><code>filter()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Auswahl von Zeilen basieren auf einem logischen Ausdruck</td>
</tr>
<tr class="even">
<td align="left"><code>arrange()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Sortiere Zeilen</td>
</tr>
<tr class="odd">
<td align="left"><code>mutate()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Hinzufügen von Spalten</td>
</tr>
<tr class="even">
<td align="left"><code>case_when()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Recodieren von Spalten</td>
</tr>
<tr class="odd">
<td align="left"><code>group_by(), summarise()</code></td>
<td align="left"><code>dplyr</code></td>
<td align="left">Gruppierung von Daten zur Berechnung deskriptiver Statistiken</td>
</tr>
<tr class="even">
<td align="left"><code>pivot_longer()</code></td>
<td align="left"><code>tidyr</code></td>
<td align="left">Transormation vom Wide ins Long Format</td>
</tr>
<tr class="odd">
<td align="left"><code>pivot_wider()</code></td>
<td align="left"><code>tidyr</code></td>
<td align="left">Transormation vom Long ins Wide Format</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="ressourcen" class="section level2">
<h2>Ressourcen</h2>
<div id="dplyr-vignette" class="section level3">
<h3><code>dplyr</code> Vignette</h3>
<p>Hier geht es zu <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html">dplyr Vignette</a>.</p>
<p>Hier geht es zu <a href="https://www.tidyverse.org/blog/2019/09/tidyr-1-0-0/">tidyr Vignette</a>.</p>
</div>
<div id="cheatsheets" class="section level3">
<h3>Cheatsheets</h3>
<p align="center" width="100%">
<a href="https://github.com/rstudio/cheatsheets/raw/master/translations/german/data-wrangling-german.pdf"> <img src="https://github.com/rstudio/cheatsheets/raw/master/translations/german/data-wrangling-german.pdf" style="width:70%"></a> <br> <font style="font-size:10px">from <a href="https://www.rstudio.com/resources/cheatsheets/">R Studio</a></font>
</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
